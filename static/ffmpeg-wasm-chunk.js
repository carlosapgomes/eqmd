"use strict";(self.webpackChunkeqmd=self.webpackChunkeqmd||[]).push([[509],{166:(e,t,r)=>{r.d(t,{toBlobURL:()=>n});const s=new Error("failed to get response body reader"),a=new Error("failed to complete download");var o=r(896);const n=async(e,t,r=!1,n)=>{const i=r?await(async(e,t)=>{const r=await fetch(e);let n;try{const i=parseInt(r.headers.get(o.r)||"-1"),l=r.body?.getReader();if(!l)throw s;const c=[];let d=0;for(;;){const{done:r,value:s}=await l.read(),o=s?s.length:0;if(r){if(-1!=i&&i!==d)throw a;t&&t({url:e,total:i,received:d,delta:o,done:r});break}c.push(s),d+=o,t&&t({url:e,total:i,received:d,delta:o,done:r})}const E=new Uint8Array(d);let h=0;for(const e of c)E.set(e,h),h+=e.length;n=E.buffer}catch(s){console.log("failed to send download progress event: ",s),n=await r.arrayBuffer(),t&&t({url:e,total:n.byteLength,received:n.byteLength,delta:0,done:!0})}return n})(e,n):await(await fetch(e)).arrayBuffer(),l=new Blob([i],{type:t});return URL.createObjectURL(l)}},196:(e,t,r)=>{r.d(t,{Mr:()=>a,eu:()=>s});const s=550==r.j?"https://unpkg.com/@ffmpeg/core@0.12.9/dist/umd/ffmpeg-core.js":null;var a;!function(e){e.LOAD="LOAD",e.EXEC="EXEC",e.FFPROBE="FFPROBE",e.WRITE_FILE="WRITE_FILE",e.READ_FILE="READ_FILE",e.DELETE_FILE="DELETE_FILE",e.RENAME="RENAME",e.CREATE_DIR="CREATE_DIR",e.LIST_DIR="LIST_DIR",e.DELETE_DIR="DELETE_DIR",e.ERROR="ERROR",e.DOWNLOAD="DOWNLOAD",e.PROGRESS="PROGRESS",e.LOG="LOG",e.MOUNT="MOUNT",e.UNMOUNT="UNMOUNT"}(a||(a={}))},360:(e,t,r)=>{r.d(t,{B4:()=>s,Mu:()=>n,Rz:()=>o,f$:()=>a});const s=new Error("unknown message type"),a=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),o=new Error("called FFmpeg.terminate()"),n=new Error("failed to import ffmpeg-core.js")},429:(e,t,r)=>{var s=r(196),a=r(360);let o;self.onmessage=async({data:{id:e,type:t,data:n}})=>{const i=[];let l;try{if(t!==s.Mr.LOAD&&!o)throw a.f$;switch(t){case s.Mr.LOAD:l=await(async({coreURL:e,wasmURL:t,workerURL:n})=>{const i=!o;try{e||(e=s.eu),importScripts(e)}catch{if(e&&e!==s.eu||(e=s.eu.replace("/umd/","/esm/")),self.createFFmpegCore=(await r(550)(e)).default,!self.createFFmpegCore)throw a.Mu}const l=e,c=t||e.replace(/.js$/g,".wasm"),d=n||e.replace(/.js$/g,".worker.js");return o=await self.createFFmpegCore({mainScriptUrlOrBlob:`${l}#${btoa(JSON.stringify({wasmURL:c,workerURL:d}))}`}),o.setLogger((e=>self.postMessage({type:s.Mr.LOG,data:e}))),o.setProgress((e=>self.postMessage({type:s.Mr.PROGRESS,data:e}))),i})(n);break;case s.Mr.EXEC:l=(({args:e,timeout:t=-1})=>{o.setTimeout(t),o.exec(...e);const r=o.ret;return o.reset(),r})(n);break;case s.Mr.FFPROBE:l=(({args:e,timeout:t=-1})=>{o.setTimeout(t),o.ffprobe(...e);const r=o.ret;return o.reset(),r})(n);break;case s.Mr.WRITE_FILE:l=(({path:e,data:t})=>(o.FS.writeFile(e,t),!0))(n);break;case s.Mr.READ_FILE:l=(({path:e,encoding:t})=>o.FS.readFile(e,{encoding:t}))(n);break;case s.Mr.DELETE_FILE:l=(({path:e})=>(o.FS.unlink(e),!0))(n);break;case s.Mr.RENAME:l=(({oldPath:e,newPath:t})=>(o.FS.rename(e,t),!0))(n);break;case s.Mr.CREATE_DIR:l=(({path:e})=>(o.FS.mkdir(e),!0))(n);break;case s.Mr.LIST_DIR:l=(({path:e})=>{const t=o.FS.readdir(e),r=[];for(const s of t){const t=o.FS.stat(`${e}/${s}`),a=o.FS.isDir(t.mode);r.push({name:s,isDir:a})}return r})(n);break;case s.Mr.DELETE_DIR:l=(({path:e})=>(o.FS.rmdir(e),!0))(n);break;case s.Mr.MOUNT:l=(({fsType:e,options:t,mountPoint:r})=>{const s=e,a=o.FS.filesystems[s];return!!a&&(o.FS.mount(a,t,r),!0)})(n);break;case s.Mr.UNMOUNT:l=(({mountPoint:e})=>(o.FS.unmount(e),!0))(n);break;default:throw a.B4}}catch(t){return void self.postMessage({id:e,type:s.Mr.ERROR,data:t.toString()})}l instanceof Uint8Array&&i.push(l.buffer),self.postMessage({id:e,type:t,data:l},i)}},502:(e,t,r)=>{r.d(t,{FFmpeg:()=>i});var s=r(196);const a=(()=>{let e=0;return()=>e++})();var o,n=r(360);class i{#e=null;#t={};#r={};#s=[];#a=[];loaded=!1;#o=()=>{this.#e&&(this.#e.onmessage=({data:{id:e,type:t,data:r}})=>{switch(t){case s.Mr.LOAD:this.loaded=!0,this.#t[e](r);break;case s.Mr.MOUNT:case s.Mr.UNMOUNT:case s.Mr.EXEC:case s.Mr.FFPROBE:case s.Mr.WRITE_FILE:case s.Mr.READ_FILE:case s.Mr.DELETE_FILE:case s.Mr.RENAME:case s.Mr.CREATE_DIR:case s.Mr.LIST_DIR:case s.Mr.DELETE_DIR:this.#t[e](r);break;case s.Mr.LOG:this.#s.forEach((e=>e(r)));break;case s.Mr.PROGRESS:this.#a.forEach((e=>e(r)));break;case s.Mr.ERROR:this.#r[e](r)}delete this.#t[e],delete this.#r[e]})};#n=({type:e,data:t},r=[],s)=>this.#e?new Promise(((o,n)=>{const i=a();this.#e&&this.#e.postMessage({id:i,type:e,data:t},r),this.#t[i]=o,this.#r[i]=n,s?.addEventListener("abort",(()=>{n(new DOMException(`Message # ${i} was aborted`,"AbortError"))}),{once:!0})})):Promise.reject(n.f$);on(e,t){"log"===e?this.#s.push(t):"progress"===e&&this.#a.push(t)}off(e,t){"log"===e?this.#s=this.#s.filter((e=>e!==t)):"progress"===e&&(this.#a=this.#a.filter((e=>e!==t)))}load=({classWorkerURL:e,...t}={},{signal:a}={})=>(this.#e||(this.#e=e?new Worker(new URL(e,"file:///home/carlos/projects/eqmd/node_modules/@ffmpeg/ffmpeg/dist/esm/classes.js"),{type:"module"}):new Worker(new URL(r.p+r.u(550),r.b),{type:void 0}),this.#o()),this.#n({type:s.Mr.LOAD,data:t},void 0,a));exec=(e,t=-1,{signal:r}={})=>this.#n({type:s.Mr.EXEC,data:{args:e,timeout:t}},void 0,r);ffprobe=(e,t=-1,{signal:r}={})=>this.#n({type:s.Mr.FFPROBE,data:{args:e,timeout:t}},void 0,r);terminate=()=>{const e=Object.keys(this.#r);for(const t of e)this.#r[t](n.Rz),delete this.#r[t],delete this.#t[t];this.#e&&(this.#e.terminate(),this.#e=null,this.loaded=!1)};writeFile=(e,t,{signal:r}={})=>{const a=[];return t instanceof Uint8Array&&a.push(t.buffer),this.#n({type:s.Mr.WRITE_FILE,data:{path:e,data:t}},a,r)};mount=(e,t,r)=>this.#n({type:s.Mr.MOUNT,data:{fsType:e,options:t,mountPoint:r}},[]);unmount=e=>this.#n({type:s.Mr.UNMOUNT,data:{mountPoint:e}},[]);readFile=(e,t="binary",{signal:r}={})=>this.#n({type:s.Mr.READ_FILE,data:{path:e,encoding:t}},void 0,r);deleteFile=(e,{signal:t}={})=>this.#n({type:s.Mr.DELETE_FILE,data:{path:e}},void 0,t);rename=(e,t,{signal:r}={})=>this.#n({type:s.Mr.RENAME,data:{oldPath:e,newPath:t}},void 0,r);createDir=(e,{signal:t}={})=>this.#n({type:s.Mr.CREATE_DIR,data:{path:e}},void 0,t);listDir=(e,{signal:t}={})=>this.#n({type:s.Mr.LIST_DIR,data:{path:e}},void 0,t);deleteDir=(e,{signal:t}={})=>this.#n({type:s.Mr.DELETE_DIR,data:{path:e}},void 0,t)}!function(e){e.MEMFS="MEMFS",e.NODEFS="NODEFS",e.NODERAWFS="NODERAWFS",e.IDBFS="IDBFS",e.WORKERFS="WORKERFS",e.PROXYFS="PROXYFS"}(o||(o={}))},896:(e,t,r)=>{r.d(t,{r:()=>s});const s="Content-Length"}}]);