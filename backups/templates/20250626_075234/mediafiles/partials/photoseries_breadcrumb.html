{% comment %}
PhotoSeries Breadcrumb Navigation Template
Generates breadcrumb navigation: Patient Detail → Timeline → PhotoSeries
{% endcomment %}

<nav aria-label="breadcrumb" class="photoseries-breadcrumb">
    <ol class="breadcrumb">
        <!-- Patient Detail Link -->
        <li class="breadcrumb-item">
            <a href="{% url 'patients:patient_detail' patient.id %}" 
               class="breadcrumb-link"
               data-timeline-url="{{ timeline_url }}">
                <i class="bi bi-person me-1"></i>
                {{ patient.name }}
            </a>
        </li>

        <!-- Timeline Link -->
        <li class="breadcrumb-item">
            <a href="{{ timeline_url }}" 
               class="breadcrumb-link">
                <i class="bi bi-clock-history me-1"></i>
                Timeline
            </a>
        </li>

        <!-- Current PhotoSeries -->
        <li class="breadcrumb-item active" aria-current="page">
            <i class="bi bi-images me-1"></i>
            {% if series.description %}
                {{ series.description|truncatechars:50 }}
            {% else %}
                Série de Fotos
            {% endif %}
        </li>
    </ol>
</nav>

<!-- Return to Timeline Button (floating) -->
<button type="button" 
        class="return-to-timeline btn"
        onclick="{% if timeline_url %}window.location.href='{{ timeline_url }}'{% else %}window.history.back(){% endif %}"
        title="Voltar ao Timeline">
    <i class="bi bi-arrow-left me-1"></i>
    <span class="d-none d-md-inline">Timeline</span>
</button>

<script>
// Initialize breadcrumb navigation
document.addEventListener('DOMContentLoaded', function() {
    if (typeof PhotoSeries !== 'undefined') {
        PhotoSeries.initializeBreadcrumbNavigation();
    }
});
</script>
