{% comment %}
Photo Modal Template
Provides a modal for viewing photos in full size with zoom functionality
This modal is triggered from photo event cards and other photo displays

Features:
- Full-size image display
- Image zoom functionality
- Metadata overlay
- Download button
- Navigation controls (for future series support)
- Responsive design for mobile
{% endcomment %}

<!-- Photo Modal -->
<div class="modal fade" id="photoModal" tabindex="-1" aria-labelledby="photoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content bg-dark">
            <!-- Modal Header -->
            <div class="modal-header border-secondary">
                <h5 class="modal-title text-white" id="photoModalLabel">
                    <i class="bi bi-camera me-2" aria-hidden="true"></i>
                    <span id="photoModalTitle">Visualizar Foto</span>
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
            </div>
            
            <!-- Modal Body -->
            <div class="modal-body p-0 position-relative">
                <!-- Loading Indicator -->
                <div id="photoModalLoading" class="d-flex align-items-center justify-content-center" style="min-height: 400px;">
                    <div class="text-center text-white">
                        <div class="spinner-border mb-3" role="status">
                            <span class="visually-hidden">Carregando...</span>
                        </div>
                        <p>Carregando foto...</p>
                    </div>
                </div>
                
                <!-- Photo Container -->
                <div id="photoModalContainer" class="position-relative d-none">
                    <!-- Main Photo Display -->
                    <div class="photo-display-container text-center">
                        <img id="photoModalImage" 
                             src="" 
                             alt="" 
                             class="img-fluid photo-modal-image"
                             style="max-height: 70vh; cursor: zoom-in;">
                    </div>
                    
                    <!-- Photo Controls Overlay -->
                    <div class="photo-controls position-absolute top-0 end-0 p-3">
                        <div class="btn-group-vertical">
                            <!-- Zoom In -->
                            <button type="button" class="btn btn-dark btn-sm mb-1" id="photoZoomIn" title="Ampliar">
                                <i class="bi bi-zoom-in" aria-hidden="true"></i>
                                <span class="visually-hidden">Ampliar</span>
                            </button>
                            
                            <!-- Zoom Out -->
                            <button type="button" class="btn btn-dark btn-sm mb-1" id="photoZoomOut" title="Reduzir">
                                <i class="bi bi-zoom-out" aria-hidden="true"></i>
                                <span class="visually-hidden">Reduzir</span>
                            </button>
                            
                            <!-- Reset Zoom -->
                            <button type="button" class="btn btn-dark btn-sm mb-1" id="photoZoomReset" title="Tamanho original">
                                <i class="bi bi-arrows-angle-contract" aria-hidden="true"></i>
                                <span class="visually-hidden">Tamanho original</span>
                            </button>
                            
                            <!-- Fullscreen Toggle -->
                            <button type="button" class="btn btn-dark btn-sm mb-1" id="photoFullscreenToggle" title="Tela cheia">
                                <i class="bi bi-arrows-fullscreen" aria-hidden="true"></i>
                                <span class="visually-hidden">Tela cheia</span>
                            </button>
                            
                            <!-- Download -->
                            <a id="photoDownloadBtn" href="#" class="btn btn-primary btn-sm" title="Baixar foto" download>
                                <i class="bi bi-download" aria-hidden="true"></i>
                                <span class="visually-hidden">Baixar</span>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Navigation Controls (for future series support) -->
                    <div class="photo-navigation d-none">
                        <button type="button" class="btn btn-dark position-absolute top-50 start-0 translate-middle-y ms-3" 
                                id="photoPrevBtn" title="Foto anterior">
                            <i class="bi bi-chevron-left" aria-hidden="true"></i>
                            <span class="visually-hidden">Anterior</span>
                        </button>
                        
                        <button type="button" class="btn btn-dark position-absolute top-50 end-0 translate-middle-y me-3" 
                                id="photoNextBtn" title="Próxima foto">
                            <i class="bi bi-chevron-right" aria-hidden="true"></i>
                            <span class="visually-hidden">Próxima</span>
                        </button>
                    </div>
                </div>
                
                <!-- Error State -->
                <div id="photoModalError" class="d-none text-center text-white p-5">
                    <i class="bi bi-exclamation-triangle fs-1 mb-3" aria-hidden="true"></i>
                    <h6>Erro ao carregar a foto</h6>
                    <p class="text-muted">Não foi possível carregar a imagem. Tente novamente.</p>
                </div>
            </div>
            
            <!-- Modal Footer with Metadata -->
            <div class="modal-footer border-secondary bg-dark">
                <div class="photo-metadata-overlay w-100">
                    <div class="row g-2 small text-white-50">
                        <div class="col-md-3">
                            <i class="bi bi-file-earmark-image me-1" aria-hidden="true"></i>
                            <span id="photoModalFilename">-</span>
                        </div>
                        <div class="col-md-2">
                            <i class="bi bi-arrows-angle-expand me-1" aria-hidden="true"></i>
                            <span id="photoModalDimensions">-</span>
                        </div>
                        <div class="col-md-2">
                            <i class="bi bi-hdd me-1" aria-hidden="true"></i>
                            <span id="photoModalSize">-</span>
                        </div>
                        <div class="col-md-3">
                            <i class="bi bi-calendar me-1" aria-hidden="true"></i>
                            <span id="photoModalCreated">-</span>
                        </div>
                        <div class="col-md-2">
                            <i class="bi bi-person me-1" aria-hidden="true"></i>
                            <span id="photoModalAuthor">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% comment %}
Photo Modal JavaScript functionality is handled by the MediaFiles.photoModal module
in apps/mediafiles/static/mediafiles/js/mediafiles.js
{% endcomment %}
